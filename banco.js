<!DOCTYPE html>
<html>
<head>
     <title>Central de Preferências</title>

 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <style class="main_style">
.layout-canvas-g {
  background-color: #fff;
  border: none;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 0;
  width: 100%;
}
.layout-canvas-g > .header,
.layout-canvas-g > .section,
.layout-canvas-g > .footer {
  position: relative;
  overflow: hidden;
  width: 100%;
  word-wrap: break-word;
}
.layout-canvas-g > .section {
  margin: 10px 0;
}
.layout-canvas-g > .section > .columns {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  word-wrap: break-word;
}
body {
  color: #000;
  font-family: Arial;
  font-size: 12px;
  margin: 0 auto;
  max-width: 1280px;
}
@media only screen and (max-width: 480px) {
  .mobile-hidden {
    display: none !important;
  }
  .responsive-td {
    width: 100% !important;
    display: block !important;
    padding: 0 !important;
  }
}


.layout-canvas-g > .section > .columns {
  width: 100%;
}


</style>

</head>
<body>


      <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;700;800&amp;display=swap" rel="stylesheet">
   
<!-- CSS GERAL -->

<style>

#header_icon{
           max-width: 70vw;
        }

#title_logo{
           font-family: "Open Sans";
           font-size:18px !important; 
           font-weight: 500 !important;
           padding:8px 0 24px 30px !important;
           max-width: 70vw;
        }

#header_icon{
    margin: 0 auto;
  font-family: "Open Sans";
  font-weight: 500;
  font-size: 1em;
  line-height: 24px;
  color: #09121c;
  padding: 30px 0 0 30px;
}
  
 #header {
  width: 100%;
  position:absolute;
  top:0;
  left:0;
  background-color:#000;
  font-family: "Open Sans";
  font-weight: 500;
  font-size: 1em;
  
}
  #form_topo {
       margin-top:160px;
       
    }

.container {
  max-width: 70vw;
  margin: 0 auto;
  font-family: "Open Sans";
  font-weight: 500;
  font-size: 1em;
  line-height: 24px;
  color: #09121c;
    
}

 hr {
 left: 0;
  right: 0;
  margin: 56px 0 40px 0;
  border: none;
  height: 1px;
  background-color: #CED0D2;

}

#title_categoria{
    font-family: 'Open Sans';
    font-style: normal;
    font-weight: 600;
    font-size: 20px;
    line-height: 28px;
    letter-spacing: -0.005em;
}

      fieldset {
        border: 0;
        padding:0;
        margin:0;
      }

  .checkbox {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
  text-align:right;
  
  }

 input[type='checkbox'] {
    accent-color: #000;
    width: 15px;
    height:15px;
}

.title_categoria{
font-family: 'Open Sans';
font-style: normal;
font-weight: 600;
font-size: 18px;
line-height: 140%;

  }

    .title_categoria span{
font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 140%;
letter-spacing: -0.005em;

  }

  .categoria_{
font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 16px;
line-height: 24px;
color:#09121C;
padding:0 0 0 16px;
}

  .categoria_ span{
           font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 19.6px;
color: #535960;
letter-spacing: -0.005em;

}

.title_comunica td{
           background-color: #F2F3F3;
           font-family: 'Open Sans';
            font-style: normal;
            font-weight: 600;
            font-size: 14px;
            line-height: 140%;
            letter-spacing: -0.005em;
            text-align:left;
            padding:8px 16px;
            color: #535960; 
            
     }

.title_opnion{
 font-family: 'Open Sans';
font-style: normal;
font-weight: 600;
font-size: 16px;
line-height: 150%;
color: #000000;
padding: 8px 0 0 0;
        }

 table {
        width: 100%;
        border-collapse: collapse;
      }
   
 fieldset {
        border: 0;
        padding:0;
        margin:0;
      }

 textarea {
    font-size: 16px;
    font-family: 'Open Sans';
    padding: 10px;
    max-width: 100%;
    line-height: 1.5;
    border-radius: 5px;
    border: 1px solid #ccc;
    box-shadow: 1px 1px 1px #999;
    resize: none;

}

button { 
    font-family: "Open Sans";
    float:right;
    padding: 16px !important;
    border-style: none;
    font-size: 14px;
    font-weight: 500;
    text-align: center;
    padding: 10px;
    border-radius: 4px;
    color: #fff;
    background: #1E1E1E;
    margin: 29.5px auto;
    cursor:pointer;
  }
   
  button[disabled] {
  padding: 16px;
  cursor: not-allowed;
  background: #B5B8BB;
  border-radius: 4px;

}

 .opcao{
 font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 16px;
line-height: 150%;
color: #09121C;
vertical-align:top;

    }

 .checkbox2 {
  
  display: inline-block;
  width: 10px;
  height: 34px;
  text-align:right;
  
  }

 .outro_motivo {
   display: flex;
align-items: center;
    color: #3A4149;
    font-family: 'Open Sans';
font-style: normal;
font-weight: 600;
font-size: 16px;
line-height: 150%;
margin-top:16px;
    }



.alerta {
   font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 140%;
letter-spacing: -0.005em;
color: #09121C;
width: 960px;
height: 72px;  
}

 .sucesso {
border-color: #E1F3ED;
color: #09121C;
background-color: #E1F3ED;

              }

 .alerta_voltar{
     font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 140%;
letter-spacing: -0.005em;
color: #535960;
padding:8px 0 0 0;

 }

  .topico-selecionado
              {
                opacity:1.0;
              }

  .item-selecionado
              {
                opacity:1.0;
              }

  .topico-deselecionado
              {
                opacity:.3;
              }

  .item-deselecionado
              {
                opacity:0.3;
              }


#btn { 
    border: 1px solid black;
    background-color: white;
    font-family: 'Open Sans';
    font-size: 16px !important;
    float:left;
    padding: 16px !important;
    text-align: center;
    border-radius: 4px;
    color: black;
    margin: 10px 0 50px 0;
    cursor:pointer;
    
  }
   
#btn[disabled] {
  padding: 16px;
  cursor: not-allowed;
  background: #FFFFFF;
  border-radius: 4px;
  opacity: 0.3;

}

.mobile_option{
    display:none;
}

 /* RESPONSIVO */

/* Telas de tamanho médio (até 768px) */
@media only screen and (max-width: 768px) {
  .container {
    max-width: 100%;
    padding: 0 40px 0 40px !important;
  }

  .mobile_option{
    max-width: 100%;
    padding: 0 40px 0 40px !important;
    display:flex;
  }
     
 #header_icon{
           padding:20px 0 0 0 !important;
           max-width: 80vw;
        }

#title_logo{
           font-family: "Open Sans";
           font-size:16px !important; 
           font-weight: 500 !important;
           padding: 8px 0 10px 0 !important;
           max-width: 80vw;
        }

   #por_onde{
    font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 140%;
margin: 0 0 20px 16px;
}

   .check_email {
        display: none;
        
    }
   
   .check_email2{
       text-align:left;
       font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 140%;
letter-spacing: -0.005em;
color: #000000;
vertical-align:top;
margin: 10px 0 10px 16px;
   }

   hr {
 left: 0;
  right: 0;
  margin: 10px 0 20px 0;
  border: none;
  height: 1px;
  background-color: #CED0D2;

}

   .title_categoria{
font-family: 'Open Sans';
font-style: normal;
font-weight: 600;
font-size: 16px;
line-height: 140%;

  }

    #form_topo p{
     font-size: 17px;
      }

    .opcao{
 font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 15px;
line-height: 150%;
color: #09121C;
vertical-align:top;
padding-left:15px;

    }

    .sucesso {
border-color: #E1F3ED;
color: #000;
background-color: #E1F3ED;
width:100%;

              }

    textarea {
    width: 100%;
  }

     .mobile_option{
    max-width: 100%;
    padding: 0 40px 0 40px !important;
    display:flex;
  }


}

/* Telas pequenas (até 576px) */
@media only screen and (max-width: 576px) {

#header_icon{
           padding:20px 0 0 0 !important;
           max-width: 70vw;
        }

#title_logo{
           font-family: "Open Sans";
           font-size:18px !important; 
           font-weight: 500 !important;
           padding:8px 0 24px 0 !important;
           max-width: 70vw;
        }

  .container {
    max-width: 100%;
    padding: 0 40px 0 40px !important;
  }
 
  .check_email {
        display: none;
        
    }

   .check_email2{
       text-align:left;
       font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 140%;
letter-spacing: -0.005em;
color: #000000;
vertical-align:top;
margin: 0 0 20px 16px;
   }

      #por_onde{
    font-family: 'Open Sans';
font-style: normal;
font-weight: 400;
font-size: 14px;
line-height: 140%;
margin: 10px 0 10px 16px;
}
    
  .mobile_option{
    max-width: 100%;
    padding: 0 40px 0 40px !important;
    display:flex;
  }

      hr {
 left: 0;
  right: 0;
  margin: 10px 0 20px 0;
  border: none;
  height: 1px;
  background-color: #CED0D2;

}

 #form_topo p{
     font-size: 17px;
      }

 .sucesso {
border-color: #E1F3ED;
color: #000;
background-color: #E1F3ED;
width:100%;

}

  textarea {
    width: 100%;
  }

}

/* Telas grandes (mais de 1200px) */
@media only screen and (min-width: 1440px) {
  

  .mobile_option{
    max-width: 100%;
    padding: 0 40px 0 40px !important;
    display:none;
  }

 #header_icon{
           max-width: 70vw;
        }

#title_logo{
           font-family: "Open Sans";
           font-size:16px !important; 
           font-weight: 500 !important;
           padding:8px 0 24px 30px !important;
           max-width: 70vw;
        }
 
  }
    

</style>

<div id="header">
    <div id="header_icon" class="container">
        <a><img src="https://global-uploads.webflow.com/5f184d1fba281719ebfcc1a1/60895f4c86055d31ccd5ae59_negative.png" loading="lazy" width="42" height="35" alt="Banco ABC Brasil">
        </a></div>
        <div id="title_logo" class="container" style="color:#fff; padding: 0 0 10px 0;" onclick="">
            <span>Central de preferências</span>
        </div>
    </div>
    %%[ if @method == "GET" then ]%%
        
    <div class="container">
        <form id="form_topo" method="post" action="%%=v(@urlThis)=%%" enctype="application/x-www-form-urlencoded">
            <p id="title_categoria">Escolha as comunicações que você quer receber</p>
    <fieldset>
        <input type="hidden" name="ContactKey" value="%%=v(@SubscriberKey)=%%">
        <input type="hidden" name="Email" value="%%=v(@Email)=%%">
        <input type="hidden" name="formDescricao" value="false">
        <table>
            <tr>
                <td class="title_categoria" style="width:90%;">Ofertas e recomendações<br>
                    <span>Quero receber comunicações sobre ofertas e recomendações de produtos e serviços.</span>
                </td>
                <td style="width:10%;">
                    <label class="checkbox">
                        <input type="checkbox" name="check1" id="ofertas" class="topico">
                    </label>
                </td>
            </tr>
            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>
            <tr class="title_comunica">
                <td style="width:90%;">Comunicações</td>
                <td style="width:10%;" class="check_email">E-mail</td>
            </tr>
            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>
            <tr>
                <td id="ofertas1-td" class="categoria_" style="width:90%;">Ofertas de produtos e serviços de acordo com seu perfil<br>
                    <span>Conheça nossas ofertas baseadas no seu perfil.</span>
                </td>
                <td style="width:10%;">
                    <label class="checkbox check_email">
                        <input type="checkbox" %%[ if @pref_email_ofertas == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_ofertas" id="ofertas1" class="ofertas">
                    </label>
                </td>
            </tr>
            </table>
        </div>

    <!-- e-mail check para mobile -->

        <div class="mobile_option">
    <table>
     <tr>  
         <td style="width:90%;">
             <p id="por_onde"> Por onde quero receber:</p></td>
         </tr>
       </table>
            </div>

        <div class="mobile_option">
    <table class="check_email2">
     <tr>
            <td style="width:10%;">
                <label>
                        <input type="checkbox" %%[ if @pref_email_ofertas == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_ofertas" id="ofertas1" class="ofertas">
                    </label></td>
               <td style="width:90%;">E-mail</td>
            </tr>
        </table>
            </div>
    <!-- fim check para mobile -->

        <hr>    
           <div class="container">
        <table>
            <tr>
                <td class="title_categoria" style="width:90%;">Notícias e atualizações<br>
                    <span>Quero receber comunicações sobre o mercado financeiro e atualizações do Banco ABC Brasil.</span>
                </td>
                <td style="width:10%;">
                    <label class="checkbox">
                        <input type="checkbox" id="comunicacoes" class="topico">
                    </label>
                </td>
            </tr>
            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>
            <tr class="title_comunica">
                <td style="width:90%;">Comunicações</td>
                <td style="width:10%;" class="check_email">E-mail</td>
            </tr>
            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>
            <tr>
                <td id="noticias1-td" class="categoria_" style="width:90%;">Oportunidades e notícias sobre o mercado financeiro<br>
                    <span>Notícias e informações sobre as mais importantes movimentações de mercado.</span>
                </td>
                
                <td style="width:10%;">
                    <label class="checkbox check_email">
                        <input class="comunicacoes" type="checkbox" %%[ if @pref_email_oportunidades == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_oportunidades" id="noticias1">
                    </label>
                </td>
            </tr>
            </table>
               </div>
      <!-- e-mail check para mobile -->

        <div class="mobile_option">
    <table>
     <tr>  
         <td style="width:90%;">
             <p id="por_onde"> Por onde quero receber:</p></td>
         </tr>
       </table>
            </div>

        <div class="mobile_option">
    <table class="check_email2">
     <tr>
            <td style="width:10%;">
                <label>
                        <input class="comunicacoes" type="checkbox" %%[ if @pref_email_oportunidades == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_oportunidades" id="noticias1">
                    </label></td>
               <td style="width:90%;">E-mail</td>
            </tr>
        </table>
            </div>
    <!-- fim check para mobile -->

            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>

         <div class="container">
        <table>
            <tr>
                <td id="noticias2-td" class="categoria_" style="width:90%;">Nossos lançamentos e novas informações<br>
                    <span>Fique por dentro de nossos lançamentos, notícias e informações.</span>
                </td>
                <td style="width:10%;">
                    <label class="checkbox check_email">
                        <input class="comunicacoes" type="checkbox" %%[ if @pref_email_lancamentos == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_lancamentos" id="noticias2">
                    </label>
                </td>
            </tr>
        </table> 
               </div>

     <!-- e-mail check para mobile -->

        <div class="mobile_option">
    <table>
     <tr>  
         <td style="width:90%;">
             <p id="por_onde"> Por onde quero receber:</p></td>
         </tr>
       </table>
            </div>

        <div class="mobile_option">
    <table class="check_email2">
     <tr>
            <td style="width:10%;">
                <label>
                        <input class="comunicacoes" type="checkbox" %%[ if @pref_email_lancamentos == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_lancamentos" id="noticias2">
                    </label></td>
               <td style="width:90%;">E-mail</td>
            </tr>
        </table>
            </div>
    <!-- fim check para mobile -->


        <hr>    
        <div class="container">
        <table>
            <tr>
                <td class="title_categoria" style="width:90%;">Relacionamento<br>
                    <span>Quero receber comunicações sobre relacionamento.</span>
                </td>
                <td style="width:10%;">
                    <label class="checkbox">
                        <input type="checkbox" name="check3" id="relacionamento" class="topico">
                    </label>
                </td>
            </tr>
            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>
            <tr class="title_comunica">
                <td style="width:90%;">Comunicações</td>
                <td style="width:10%;" class="check_email">E-mail</td>
            </tr>
            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>
            <tr>
                <td id="rel_1-td" class="categoria_" style="width:90%;">Convites para eventos presenciais e on-line<br>
                    <span>Convite e lembretes para eventos exclusivos.</span>
                </td>
                
                <td style="width:10%;">
                    <label class="checkbox check_email">
                        <input type="checkbox" %%[ if @pref_email_convites == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_convites" id="rel_1" class="relacionamento">
                    </label>
                </td>
            </tr>

            </table>
            </div>

     <!-- e-mail check para mobile -->

        <div class="mobile_option">
    <table>
     <tr>  
         <td style="width:90%;">
             <p id="por_onde"> Por onde quero receber:</p></td>
         </tr>
       </table>
            </div>

        <div class="mobile_option">
    <table class="check_email2">
     <tr>
            <td style="width:10%;">
                <label>
                        <input type="checkbox" %%[ if @pref_email_convites == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_convites" id="rel_1" class="relacionamento">
                    </label></td>
               <td style="width:90%;">E-mail</td>
            </tr>
        </table>
            </div>
    <!-- fim check para mobile -->
            <tr>
                <td style="height: 24px;">&nbsp;</td>
            </tr>
    <div class="container">
        <table>
            <tr>
                <td id="rel_2-td" class="categoria_" style="width:90%;">Pesquisas<br>
                    <span>Como podemos melhorar nossos serviços e sua experiência.</span>
                </td>
                <td style="width:10%;">
                    <label class="checkbox check_email">
                        <input type="checkbox" %%[ if @pref_email_pesquisas == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_pesquisas" id="rel_2" class="relacionamento">
                    </label>
                </td>
            </tr>
        </table>
            </div>

    <!-- e-mail check para mobile -->

        <div class="mobile_option">
    <table>
     <tr>  
         <td style="width:90%;">
             <p id="por_onde"> Por onde quero receber:</p></td>
         </tr>
       </table>
            </div>

        <div class="mobile_option">
    <table class="check_email2">
     <tr>
            <td style="width:10%;">
                <label>
                        <input type="checkbox" %%[ if @pref_email_pesquisas == false then ]%% %%[ else ]%% checked="" %%[ endif ]%% name="pref_email_pesquisas" id="rel_2" class="relacionamento">
                    </label></td>
               <td style="width:90%;">E-mail</td>
            </tr>
        </table>
            </div>
    <!-- fim check para mobile -->
        <hr>
        <div class="container">
        <table>
           <tr>
                <td class="title_categoria" style="width:90%;">Não quero receber comunicações<br>
                    <span>Ao se descadastrar, você continuará recebendo informações transacionais sobre sua conta.</span>
                </td>
                <td style="width:10%;">
                    <label class="checkbox">
                        <input type="checkbox" id="optout" onclick="clickOptOut()">
                    </label>
                </td>
            </tr>
            
        </table>
            </div>
        <div class="container">
            <div class="container" style="text-align:center;">
                <button id="button" type="submit">Salvar</button>
            </div>
        </div>
    
    </fieldset>
</form>


    <script>
        var checkboxes_filhos;
        const checkboxes_topicos = document.querySelectorAll('.topico');
        btnOptOut = document.getElementById('optout');

        btnOptOut.checked = false;
        btnOptOut.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
        btnOptOut.parentNode.parentNode.parentNode.classList.remove("topico-selecionado");

        var backup_optout_fields = [];
        var backup_optout_content = [];
        var backup_optout_istopico = [];

        Array.from(checkboxes_topicos).forEach(function (topico) {
            topico.addEventListener('click', function () {
                checkboxes_filhos = document.getElementsByClassName(topico.id);
                Array.from(checkboxes_filhos).forEach(function (filho) {
                    if (topico.checked) {
                        filho.checked = true;
                        filho.parentNode.parentNode.parentNode.classList.add("item-selecionado");
                        filho.parentNode.parentNode.parentNode.classList.remove("item-deselecionado");

                        topico.parentNode.parentNode.parentNode.classList.add("topico-selecionado");
                        topico.parentNode.parentNode.parentNode.classList.remove("topico-deselecionado")
                    }
                    else {
                        filho.checked = false;
                        filho.parentNode.parentNode.parentNode.classList.add("item-deselecionado");
                        filho.parentNode.parentNode.parentNode.classList.remove("item-selecionado");

                        topico.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
                        topico.parentNode.parentNode.parentNode.classList.remove("topico-selecionado");
                    }
                });

                OptOut()
            });

            checkboxes_filhos = document.getElementsByClassName(topico.id);
            Array.from(checkboxes_filhos).forEach(function (filho) {
                filho.addEventListener('click', function () {
                    let todosMarcados = true;
                    const checkboxes_irmaos = document.getElementsByClassName(topico.id);

                    Array.from(checkboxes_irmaos).forEach(function (irmao) {
                        if (!irmao.checked) {
                            todosMarcados = false;
                        }
                    });

                    if (todosMarcados) {
                        topico.checked = true;
                        topico.parentNode.parentNode.parentNode.classList.add("topico-selecionado");
                        topico.parentNode.parentNode.parentNode.classList.remove("topico-deselecionado")
                    }
                    else {
                        topico.checked = false;
                        topico.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
                        topico.parentNode.parentNode.parentNode.classList.remove("topico-selecionado")
                    }


                    OptOut()
                });

                let todosMarcados = true;
                const checkboxes_irmaos = document.getElementsByClassName(topico.id);

                Array.from(checkboxes_irmaos).forEach(function (irmao) {
                    if (!irmao.checked) {
                        todosMarcados = false;

                        filho.parentNode.parentNode.parentNode.classList.add("item-deselecionado");
                        filho.parentNode.parentNode.parentNode.classList.remove("item-selecionado");
                    }
                    else {
                        filho.parentNode.parentNode.parentNode.classList.add("item-selecionado");
                        filho.parentNode.parentNode.parentNode.classList.remove("item-deselecionado");
                    }
                });

                if (todosMarcados) {
                    topico.checked = true;
                    topico.parentNode.parentNode.parentNode.classList.add("topico-selecionado");
                    topico.parentNode.parentNode.parentNode.classList.remove("topico-deselecionado")
                }
                else {
                    topico.checked = false;
                    topico.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
                    topico.parentNode.parentNode.parentNode.classList.remove("topico-selecionado")
                }
            });
        });

        OptOut()

        function OptOut() {
            let todosDesmarcados = true;

            let checkboxes_topicos = document.querySelectorAll('.topico')
            Array.from(checkboxes_topicos).forEach(function (topico) {
                checkboxes_filhos = document.getElementsByClassName(topico.id);
                Array.from(checkboxes_filhos).forEach(function (filho) {
                    if (filho.checked) {
                        todosDesmarcados = false;

                        filho.parentNode.parentNode.parentNode.classList.add("item-selecionado");
                        filho.parentNode.parentNode.parentNode.classList.remove("item-deselecionado");
                    }
                    else {
                        filho.parentNode.parentNode.parentNode.classList.add("item-deselecionado");
                        filho.parentNode.parentNode.parentNode.classList.remove("item-selecionado");
                    }
                });
            });


            if (todosDesmarcados) {

                btnOptOut.checked = true

                btnOptOut.parentNode.parentNode.parentNode.classList.add("topico-selecionado");
                btnOptOut.parentNode.parentNode.parentNode.classList.remove("topico-deselecionado");
            }
            else {
                btnOptOut.checked = false

                btnOptOut.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
                btnOptOut.parentNode.parentNode.parentNode.classList.remove("topico-selecionado");
            }

        }

        function clickOptOut() {
            let checkboxes_topicos = document.querySelectorAll('.topico')

            if (btnOptOut.checked) {
                btnOptOut.parentNode.parentNode.parentNode.classList.add("topico-selecionado");
                btnOptOut.parentNode.parentNode.parentNode.classList.remove("topico-deselecionado");
                document.getElementById('button').disabled = false;

                Array.from(checkboxes_topicos).forEach(function (topico) {
                    backup_optout_fields.push(topico.id);
                    backup_optout_content.push(topico.checked);
                    backup_optout_istopico.push(true);

                    topico.checked = false
                    topico.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
                    topico.parentNode.parentNode.parentNode.classList.remove("topico-selecionado");

                    checkboxes_filhos = document.getElementsByClassName(topico.id);
                    Array.from(checkboxes_filhos).forEach(function (filho) {
                        backup_optout_fields.push(filho.id);
                        backup_optout_content.push(filho.checked);
                        backup_optout_istopico.push(false);

                        filho.checked = false;
                        filho.parentNode.parentNode.parentNode.classList.add("item-deselecionado");
                        filho.parentNode.parentNode.parentNode.classList.remove("item-selecionado");

                    });
                });

            }
            else {
                btnOptOut.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
                btnOptOut.parentNode.parentNode.parentNode.classList.remove("topico-selecionado");

                let todosDesmarcados = true;

                backup_optout_fields.forEach((field, index) => {

                    var objField = document.getElementById(field)
                    objField.checked = backup_optout_content[index];

                    if (backup_optout_istopico[index]) {
                        if (backup_optout_content[index]) {
                            objField.parentNode.parentNode.parentNode.classList.add("topico-selecionado");
                            objField.parentNode.parentNode.parentNode.classList.remove("topico-deselecionado");
                        }
                        else {
                            objField.parentNode.parentNode.parentNode.classList.add("topico-deselecionado");
                            objField.parentNode.parentNode.parentNode.classList.remove("topico-selecionado");
                        }
                    }
                    else {
                        if (backup_optout_content[index]) {
                            objField.parentNode.parentNode.parentNode.classList.add("item-selecionado");
                            objField.parentNode.parentNode.parentNode.classList.remove("item-deselecionado");
                        }
                        else {
                            objField.parentNode.parentNode.parentNode.classList.add("item-deselecionado");
                            objField.parentNode.parentNode.parentNode.classList.remove("item-selecionado");
                        }
                    }
                });


                backup_optout_fields.length = 0;
                backup_optout_content.length = 0;

                Array.from(checkboxes_topicos).forEach(function (topico) {
                    checkboxes_filhos = document.getElementsByClassName(topico.id);
                    Array.from(checkboxes_filhos).forEach(function (filho) {
                        if (filho.checked) {
                            todosDesmarcados = false;

                            filho.parentNode.parentNode.parentNode.classList.add("item-selecionado");
                            filho.parentNode.parentNode.parentNode.classList.remove("item-deselecionado");
                        }
                        else {
                            filho.parentNode.parentNode.parentNode.classList.add("item-deselecionado");
                            filho.parentNode.parentNode.parentNode.classList.remove("item-selecionado");
                        }

                    });
                });

                if (todosDesmarcados) {
                    document.getElementById('button').disabled = true;
                }
            }

        }
    </script>
    <!-- Página de Opinião 1 -->
    %%[ elseif @method == "POST" then ]%%
    %%[ if @overallResult == "success" then ]%%
    %%[ if @formDescricao == "false" then ]%%

    <div class="container">
        <table class="alerta sucesso">
            <tr>
                <td style="width: 40px; padding:16px;"><img src="https://image.banco.abcbrasil.com.br/lib/fe2b117171640579711c79/m/1/verificado_CP_azul.jpg" style="height: 40px; width: 40px;"></td>
                <td style="width: 920px; padding:26px 16px 26px 0;">Preferências salvas com sucesso.</td>
            </tr>
        </table>
        <div class="alerta_voltar">Para voltar a receber esse conteúdo, basta selecionar o tema novamente na <a href="javascript:history.back()" style="color:#000" ;=""> <strong>lista de opções</strong></a> da Central de preferências.</div>
    </div>
    <hr>
    <div class="container">
        <p class="title_categoria">Sua opinião é valiosa
            <br><span>Ajude a gente a melhorar nossas comunicações.</span></p>
            <p class="title_opnion">Por que você não quer mais receber nossas comunicações?</p>
        </div>
        <div class="container">
            <form method="post" action="%%=v(@urlThis)=%%" enctype="application/x-www-form-urlencoded" onchange="formOpinioes()">
                <fieldset>
                <input type="hidden" name="ContactKey" value="%%=v(@SubscriberKey)=%%">
                <input type="hidden" name="Email" value="%%=v(@Email)=%%">
                <input type="hidden" name="formDescricao" value="true">
                    <table>
                        <tr>
                            <td class="checkbox2">
                                <label>
                                    <input type="checkbox" name="pref_frequencia" id="pref_frequencia">
                                </label>
                            </td>
                            <td class="opcao"><span>Frequência das comunicações é muito alta</span> <br>
                        </td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="checkbox2">
                            <label>
                                <input type="checkbox" name="pref_relevantes" id="pref_relevantes">
                            </label>
                        </td>
                        <td class="opcao"><span>Os temas não são relevantes para mim</span> <br>
                    </td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td class="checkbox2">
                        <label>
                            <input type="checkbox" name="pref_fontes" id="pref_fontes">
                        </label>
                    </td>
                    <td class="opcao"><span>Já utilizo outras fontes de informação</span> <br>
                </td>
            </tr>
            
        </table>
    </fieldset>
    <table>
        <tr>
            <td>
                <label class="outro_motivo">Outro motivo (opcional):</label>
                <textarea rows="3" cols="53" name="pref_descricao" id="pref_descricao"></textarea>
            </td>
            <td>
            </td>
            
        </tr>
        <tr>
            <td>
                <button id="btn" type="submit" disabled="true">Responder</button>
               
            </td>
        </tr>
    </table>
</form>

</div>
<script>
    function formOpinioes() {
        var pref_frequencia = document.getElementById('pref_frequencia').checked
        var pref_relevantes = document.getElementById('pref_relevantes').checked
        var pref_fontes = document.getElementById('pref_fontes').checked

        var pref_descricao = document.getElementById('pref_descricao').value == '' ? false : true;

        btn.disabled = !(pref_frequencia || pref_relevantes || pref_fontes || pref_descricao)

    }
</script>
%%[ else ]%%
    <div class="container">
        <table class="alerta sucesso">
            <tr>
                <td style="width: 40px; padding:16px;"><img src="https://image.banco.abcbrasil.com.br/lib/fe2b117171640579711c79/m/1/verificado_CP_azul.jpg" style="height: 40px; width: 40px;"></td>
                <td style="width: 920px; padding:26px 16px 26px 0;">Preferências salvas com sucesso.</td>
            </tr>
        </table>
        <div class="alerta_voltar">Para voltar a receber esse conteúdo, basta selecionar o tema novamente na <a href="javascript:history.back()" style="color:#000" ;=""> <strong>lista de opções</strong></a> da Central de preferências.</div>
    </div>
    <hr>
<div class="container">    
    <p class="title_categoria">
        Agradecemos sua colaboração.<br />
         <span>Com sua opinião, nossas comunicações ficarão cada vez melhores.</span>
        
    </p>
</div>
%%[ endif ]%%
%%[ else ]%%
<div class="container">
    <p class="title_opnion">
        Whops!
    </p>
    <p class="title_comunica2">
        <span>
            Desculpe o transtorno, tivemos um imprevisto técnico.
        </span>
    </p>
</div>
%%[ endif ]%%
%%[ endif ]%%
</body>
</html>
